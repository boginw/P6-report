\section{Bug Fix for Citizen Mode}
In sprint 3, the functionality to edit a week-plan was introduced. However, there was a bug in the implementation which allowed for \glspl{citizen} to edit week-plans. Below we see the bug report :

\begin{quote}
  \textbf{Describe the bug:} When you tap the edit button to enter mark mode and you switch to citizen mode, then mark mode is still active.

  \textbf{Steps to reproduce the behavior:}
  \begin{itemize}
    \item Go to any WeekPlanScreen (does not matter which).
    \item Click on the edit button.
    \item Switch to citizen mode.
    \item See that mark mode is still active.
  \end{itemize}

  \textbf{Expected behavior}
  If mark mode is active when you switch to citizen mode, then mark mode should become inactive.

  \textbf{Actual behavior}
  Mark mode is still active after switching to citizen mode.
\end{quote}

We found that the \gls{citizen} mode was not a part of the codebase when a mode called \textit{mark mode} was implemented, which allowed for unintended access by \glspl{citizen}, as only \glspl{guardian} should be able to use \textit{mark mode}. The bug was mitigated by introducing \textit{StreamBuilders} which listened for whether the application is in \gls{guardian} or \gls{citizen} mode. If the application is in \gls{citizen} mode the \textit{StreamBuilder} will disable all functionalities of the \textit{mark mode} and hide the \gls{ui} widgets relevant to the it.
